@model WorkOrderEMS.Models.NewAdminModel.TCAPIP.EmployeeDetailsModel

@{
    Layout = null;
}

<style>

    .SetAssetScale {
        transform: scale(1.7);
    }

    .AssetButtonSize {
        border-radius: 10px;
        width: 70px;
        border: 1px;
        height: 25px;
        background-color: #2bfd2bba;
    }
</style>

<div class="content-body">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12" style="padding-right: 0px; padding-left: 2px; margin: 2px 0 0 0;">
                <div class="card" data-aos="fade-up">
                    <div style="height: 45px; background: #0aa0cd;">
                        <div class="form-group row" style="margin-left:10px;margin-top:6px;">
                            <a href="/TerminationDetaills/TerminationList" id="BackToPendingGrid" title="Back to Pending List" style="cursor:pointer;"><i class="fa fa-long-arrow-left fa-2x" style="color:white;"></i></a>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row" style="border: 1px solid #0000001c;padding-bottom: 0.3%;padding-top: 0.3%;background: linear-gradient(to right, #b5eaea -29%, #ffffff 100%);border-radius:4px;">
                            <div class="col-md-3">
                                <div style="display:inline-block">
                                    <img src="@Model.employee_photo" alt="EmployeePhoto" style="width: 75px;height: 75px;border-radius: 50px;" />
                                </div>
                                <div style="display:inline-block;margin-left:5%;">
                                    <span style="font-size: 14px; font-weight: 600; ">@Model.employee_name</span><br />
                                    <span style="font-size:12px">@Model.OperationHead</span>
                                </div>
                            </div>
                            <div class="col-md-2" style="margin-top: 6px;">
                                <div><span style="font-size: 14px;font-weight: 600;">@Model.empid</span></div>
                            </div>

                            <div class="col-md-7">

                            </div>
                        </div>
                        <form id="testing">
                            <div class="row" style="margin-top:2%;">
                                <div class="col-md-3">
                                    <span style="font-size:15px;font-weight: 600;">Asset Name</span>
                                </div>
                                <div class="col-md-3">
                                    <span style="font-size:15px;font-weight: 600;">Asset Details</span>
                                </div>
                                <div class="col-md-3">
                                    <span style="font-size:15px;font-weight: 600;">Status</span>
                                </div>
                                <div class="col-md-3">
                                    <span style="font-size: 15px; font-weight: 600;">Return Date</span>
                                </div>

                            </div>
                            @Html.HiddenFor(x => x.empid, new { })
                            @foreach (var i in Model.EmployeeAssetDetails)
                            {
                                if (i.AssetStatus == "L")
                                {
                                    <div class="row" style="margin-top: 2%; padding-bottom: 1%;background-color:#f92d2da6;border-radius: 8px;">
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetName</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetDetails</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetStatus</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">-</span>
                                        </div>

                                    </div>
                                }
                                else if (i.AssetStatus == "R")
                                {
                                    <div class="row" style="margin-top: 2%; padding-bottom: 1%;background-color:#43c753d4;border-radius: 8px;">
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetName</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetDetails</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetStatus</span>

                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">-</span>
                                        </div>

                                    </div>
                                }
                                else
                                {
                                    <div class="row" style="margin-top: 2%; padding-bottom: 1%;background-color:#0000ffa8;border-radius: 8px;">
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetName</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetDetails</span>
                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;">
                                            <span style="font-size:14px;color:#efefef;">@i.AssetStatus</span>

                                        </div>
                                        <div class="col-md-3" style="padding-top: 5px;display: flex;justify-content: space-between;">
                                            <span style="font-size:14px;color:#efefef;">@i.ReturnDate</span>
                                            <button id="@i.AssetName" class="AssetButtonSize">Return</button>
                                            @Html.HiddenFor(x => i.AssetName, new { })
                                        </div>

                                    </div>
                                }
                            }


                        </form>


                        <div id="ChartContainerEmployeeList" class="card" data-aos="fade-up"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@foreach (var i in Model.EmployeeAssetDetails)
{
    <script>
        var AssetName = $("#" + @i.AssetName).val();
        var EmployeeId = $("#empid").val();
        var base_url = window.location.origin;
        $("#" + @i.AssetName).click(function() {

            $.ajax({
                 type: "POST",
                 data: AssetSerialize,

                 url: base_url + '/TerminationDetaills/TerminationList?EmployeeId=' + EmployeeId + '&AssetName=' + AssetName,
                 beforeSend: function () {
                   new fn_showMaskloader('Please wait...');
                 },

                 success: function (result) {

                 },
                 error: function (xhr, status, error) {

                  },

                 complete: function () {
                     fn_hideMaskloader();
                 }

                 });

         });


    </script>
}


