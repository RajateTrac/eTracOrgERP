@model  WorkOrderEMS.Models.Employee.W4FormModel
<style>

    * {
        box-sizing: border-box;
    }

    p {
        text-align: justify;
        color: #000;
    }

 
</style>
<link href="~/Content/toastr.min.css" rel="stylesheet" />
<link href="~/Content/NewAdminContent/CSS/MyGuest.css" rel="stylesheet" />
@using (Html.BeginForm("_W4Form", "Guest", FormMethod.Post, new { id = "w4form" }))
{

    <input type="hidden" value="@Model.FormStatusw4" name="FormStatusw4" id="FormStatusw4">
    <input type="hidden" value="@Model.FormStatusI9" name="FormStatusI9" id="FormStatusI9">
    <input type="hidden" value="@Model.FormStatusdd" name="FormStatusdd" id="FormStatusdd">
    <input type="hidden" value="@Model.FormStatusEvf" name="FormStatusEvf" id="FormStatusEvf">
    <input type="hidden" value="@Model.FormStatussif" name="FormStatussif" id="FormStatussif">
    <input type="hidden" value="@Model.FormStatusbcf" name="FormStatusbcf" id="FormStatusbcf">
    <input type="hidden" value="@Model.FormStatusrop" name="FormStatusrop" id="FormStatusrop">
    <input type="hidden" value="@Model.FormStatusprfecf" name="FormStatusprfecf" id="FormStatusprfecf">
    <input type="hidden" value="@Model.FormStatusprfcaf" name="FormStatusprfcaf" id="FormStatusprfcaf">
    <input type="hidden" value="@Model.FormStatusprf" name="FormStatusprf" id="FormStatusprf">
    <input type="hidden" value="@Model.FormStatusff" name="FormStatusff" id="FormStatusff">



    @Html.HiddenFor(x => x.ApplicantId)
    @Html.HiddenFor(x => x.EmployeeSignatureName, new { @id = "getSignName" })
    @Html.HiddenFor(x => x.EmployeeSignature, new { @class = "Emp_Sign" })
    <div style="margin:83px 30px 0px 30px;">
        <hr class="new1" />
        <div>
            <div class="row">
                <div class="column">
                    <div>
                        <h2>Form W-4 (2020)</h2><hr class="new2">
                        <b>Future developments.</b> For the latest information about any future developments related to Form W-4, such as legislation enacted after it was published, go to www.irs.gov/FormW4.
                        <br /><b>Purpose.</b> Complete Form W-4 so that your employer can withhold the correct federal income tax from your pay. Consider completing a new Form W-4 each year and when your personal or financial situation changes.
                        <br /><b>Exemption from withholding.</b> You may claim exemption from withholding for 2020 if <b>both</b> of the following apply.
                        <ul>
                            <li>For 2019 you had a right to a refund of <b>all</b> federal income tax withheld because you had no tax liability, <b>and</b></li>
                            <li>For 2020 you expect a refund of <b>all</b> federal income tax withheld because you expect to have <b>no</b> tax liability.</li>
                        </ul>
                        If you’re exempt, complete <b>only</b> lines 1, 2, 3, 4, and 7 and sign the form to validate it. Your exemption for 2019 expires February 17, 2020. See Pub. 505, Tax Withholding and Estimated Tax, to learn more about whether you qualify for exemption from withholding.
                        <h2>General Instructions</h2>
                        If you aren’t exempt, follow the rest of these instructions to determine the number of withholding allowances you should claim for withholding for 2019 and any additional amount of tax to have withheld. For regular wages, withholding must be based on allowances you claimed and may not be a flat amount or percentage of wages.
                        You can also use the calculator at <b>www.irs.gov/W4App</b> to determine your tax withholding more accurately. Consider
                    </div>
                </div>
                <div class="column">
                    <div>
                        using this calculator if you have a more complicated tax situation, such as if you have a working spouse, more than one job, or a large amount of nonwage income not subject to withholding outside of your job. After your Form W-4 takes effect, you can also use this calculator to see how the amount of tax you’re having withheld compares to your projected total tax for 2019. If you use the calculator, you don’t need to complete any of the worksheets for Form W-4.<br />
                        Note that if you have too much tax withheld, you will receive a refund when you file your tax return. If you have too little tax withheld, you will owe tax when you file your tax return, and you might owe a penalty.<br />
                        <b>Filers with multiple jobs or working spouses.</b> If you have more than one job at a time, or if you’re married filing jointly and your spouse is also working, read all of the instructions including the instructions for the Two-Earners/Multiple Jobs Worksheet before beginning.<br />
                        <b>Nonwage income.</b> If you have a large amount of nonwage income not subject to withholding, such as interest or dividends, consider making estimated tax payments using Form 1040-ES, Estimated Tax for Individuals. Otherwise, you might owe additional tax. Or, you can use the Deductions, Adjustments, and Additional Income Worksheet on page 3 or the calculator at www.irs.gov/W4App to make sure you have enough tax withheld from your paycheck. If you have pension or annuity income, see Pub. 505 or use the calculator at www.irs.gov/W4App to find out if you should adjust your withholding on Form W-4 or W-4P.
                        <b>Nonresident alien.</b> If you’re a nonresident alien, see Notice 1392, Supplemental Form W-4 Instructions for Nonresident Aliens, before completing this form.
                    </div>
                </div>
                <div class="column">
                    <div>
                        <h2>Specific Instructions</h2>
                        <b>Personal Allowances Worksheet</b><br />
                        Complete this worksheet on page 3 first to determine the number of withholding allowances to claim.<br />
                        <b>Line C. Head of household please note:</b><br /> Generally, you may claim head of household filing status on your tax return only if you're unmarried and pay more than 50% of the costs of keeping up a home for yourself and a qualifying individual. See Pub. 501 for more information about filing status.
                        <b>Line E. Child tax credit.</b> <br />When you file your tax return, you may be eligible to claim a child tax credit for each of your eligible children. To qualify, the child must be under age 17 as of December 31, must be your dependent who lives with you for more than half the year, and must have a valid social security number. To learn more about this credit, see Pub. 972, Child Tax Credit. To reduce the tax withheld from your pay by taking this credit into account, follow the instructions on line E of the worksheet. On the worksheet you will be asked about your total income. For this purpose, total income includes all of your wages and other
                        income, including income earned by a spouse if you are filing a joint return.<br />
                        <b>Line F. Credit for other dependents.</b><br /> When you file your tax return, you may be eligible to claim a credit for other dependents for whom a child tax credit can’t be claimed, such as a qualifying child who doesn’t meet the age or social security number requirement for the chiid tax credit, or a qualifying relative. To learn more about this credit, see Pub. 972. To reduce the tax withheld from your pay by taking this credit into account, follow the instructions on line F of the worksheet. On the worksheet, you will be asked about your total income. For this purpose, total
                    </div>
                </div>

            </div>
        </div>
        <div>
            <div class="row">
                <div class="column left">
                    <hr class="new3">
                </div>
                <div class="column center">
                    Separate here and give Form W-4 to your employer. Keep the worksheet(s) for your records.
                </div>
                <div class="column rigth">
                    <hr class="new3">
                </div>
            </div>
        </div>
        <div class="container" style="color:#000">
            <div class="column-left">
                Form <span style="font-weight:bold;">W-4</span><br />
                Department of the Treasury Internal Revenue Service
            </div>
            <div class="vertical"></div>
            <div class="column-center">
                <h3> Employee’s Withholding Allowance Certificate</h3>
                <b>► Whether you're entitled to claim a certain number of allowances or exemption from withholding is subject to review by the IRS. Your employer may be required to send a copy of this form to the IRS.</b>
            </div>
            <div class="vertical1"></div>
            <div class="column-right">
                OMB No. 1545-0074<br />
                <span>20<span style="font-weight:bold">19</span>
            </div>
        </div>  <hr class="new4">
        <div class="top" style="color:#000">
            <table class="W4-tablewidth">
                <tr>
                    <td colspan="40" style="padding-bottom: 48px;">
                        1. Your first name and middle initial @Html.TextBoxFor(x => x.FirstName, new
{
@class = "text-line firstname-width"@*, @style = "width:590px;"*@}) @Html.ValidationMessageFor(x => x.FirstName, "", new { @style = "color:red;" })
</td>
<td colspan="40" style="padding-bottom: 48px;">Last name @Html.TextBoxFor(x => x.LastName, new { @class = "text-line", @style = "width:100px;" }) @Html.ValidationMessageFor(x => x.LastName, "", new { @style = "color:red;" })</td>
<td colspan="20" style="padding-bottom: 48px;">2. Your social security number @Html.TextBoxFor(x => x.SSN, new { @class = "text-line", @style = "width:590px;" }) @Html.ValidationMessageFor(x => x.SSN, "", new { @style = "color:red;" })</td>
</tr>
<tr>
    <td colspan="50" style="padding-bottom: 48px;">Home address (number and street or rural route) </td>
    <td colspan="50">
        3. @Html.CheckBoxFor(x => x.MeritalStatus.Single, new { @style = "height: 18px;width: 31px;" }) Single @Html.CheckBoxFor(x => x.MeritalStatus.Married, new { @style = "height: 18px;width: 31px;" })  Married @Html.CheckBoxFor(x => x.MeritalStatus.PartiallyMarried, new { @style = "height: 18px;width: 31px;" }) Married, but withhold at higher Single rate<br />
        <b>Note:</b> If married filing separately, check “Married, but withhold at higher Single rate.”
    </td>
</tr>
<tr>
    <td colspan="50" style="padding-bottom: 48px;">City or town, state, and ZIP code </td>
    <td colspan="50">
        4. lf your last name differs from that shown on your social security card, check here.<br /> You must call 800-772-1213 for a replacement card.
        ►@Html.CheckBoxFor(x => x.NameDiffer, new { @style = "height: 18px;width: 31px;" })
    </td>
</tr>
<tr>
    <td colspan="90">
        5. Total number of allowances you're claiming (from the applicable worksheet on the following pages). <br />
        6. Additional amount, if any, you want withheld from each paycheck..... <br />
        7. claim exemption from withholding for 2019, and I certify that I meet both of the folowing conditions for exemption....  <br />
        <ul>
            <li>Last year I had a right to a refund of all federal income tax withheld because I had no tax liability, and</li>
            <li>This year I expect a refund of all federal income tax withheld because I expect to have no tax liability.</li>
        </ul><br />
        If you meet both conditions, write “Exempt” here ...►
    </td>
    <td colspan="10">
        @Html.TextBoxFor(x => x.TotalAllowence, new { @class = "text-line", @style = "width:100px;" })<br />
        @Html.TextBoxFor(x => x.AdditionalAmount, new { @class = "text-line", @style = "width:100px;" })<br />
        @Html.TextBoxFor(x => x.ClaimExemption, new { @class = "text-line", @style = "width:100px;" })<br />
    </td>
</tr>
<tr>
    @Html.HiddenFor(model => model.EmployeeSignature, new { @id = "EmployeeW4Signature" })
    @if (Model.FormStatusw4 == "true")
    {
        <td colspan="100">
            Under penalties of perjury, I declare that I have examined this certificate and, to the best of my knowledge and belief, it is true, correct, and complete.<br />
            <b>Employee’s signature</b>
            <img id="OpenW4Signtrue" style="width:163px;height:47px;" />
            (This form is not valid unless you sign it.) ►
            <span style="font-weight:bold;margin-left:800px;">Date ►</span>

        </td>
    }
    else
    {
        <td colspan="100">
            Under penalties of perjury, I declare that I have examined this certificate and, to the best of my knowledge and belief, it is true, correct, and complete.<br />
            <b>Employee’s signature</b>
            <img id="OpenW4Sign" style="display:none;width:163px;height:47px;" />
            <span id="ShowHideSignatureW4Span" class="hideTextBoxAndButton">
                <input type="text" class="BoxLayout" id="BGBoxL11" name="middlename" />
            </span>
            <span class="btn btn-success hideTextBoxAndButton" style="border-radius: 100px;width: 10%;background-image: linear-gradient(to left, #3cffdb, #425fe0);" id="AddSignatureW4" onclick="OpenSignature('W4Form','EmployeeW4Signature','OpenW4Sign','hideTextBoxAndButton','myModalForSignatureW4','colors_sketchW4')">
                Add Signature
            </span>

            (This form is not valid unless you sign it.) ►
            <span style="font-weight:bold;margin-left:800px;">Date ►</span>

        </td>
    }

</tr>
@*<tr>
        <td colspan="100">
            Under penalties of perjury, I declare that I have examined this certificate and, to the best of my knowledge and belief, it is true, correct, and complete.<br />
            <b>Employee’s signature</b>
            @Html.HiddenFor(x => x.IsSignature)
            @if (Model.IsSignature == true)
            {
                <img id="openItForSignature" style="display:none;width:163px;height:47px;" />
                <span id="ShowHideSignatureSpan">
                    <input type="text" class="BoxLayout" id="BGBoxL11" name="middlename" />
                </span>
                <span>
                    <span class="btn btn-success" style="border-radius:100px;width:10%;" id="AddSignature">
                        Add Signature
                    </span>
                </span>
            }
            else
            { <span id="ShowHideSignatureSpan">
                    <input type="text" class="BoxLayout" id="BGBoxL11" name="middlename" />
                </span>}
            (This form is not valid unless you sign it.) ►
            <span style="font-weight:bold;margin-left:800px;">Date ►</span>

        </td>
    </tr>*@
<tr>
    <td colspan="70" style="padding-bottom: 48px;">8. Employer’s name and address (<b>Employer</b>: Complete boxes 8 and 10 if sending to IRS and complete boxes 8, 9, and 10 if sending to State Directory of New Hires.)  @Html.TextBoxFor(x => x.EmployeerNameAndAddress, new { @class = "text-line", @style = "width:100px;" })</td>
    <td colspan="15" style="padding-bottom: 48px;">9. First date of employment  @Html.TextBoxFor(x => x.FirstEmployeementDate, new { @class = "text-line", @style = "width:100px;" })</td>
    <td colspan="15" style="padding-bottom: 48px;">10. Employer identification number (EIN)  @Html.TextBoxFor(x => x.EIN, new { @class = "text-line", @style = "width:100px;" })</td>
</tr>
</table>
</div>
</div>
<br>
<br>
<br>
<br>
<br>
<span>
    @*@Html.CheckBoxFor(x => x.IsSave, new { @style = "height: 18px;width: 31px;" })    i hereby declare that the above information is true to the best of my knowledge*@
    @*<span style="cursor:pointer;" onclick="SubmitForm(this, w4form)" title="Go to next I-9"><a><i class="fa fa-long-arrow-right" style="font-size: 40px;color: steelblue;margin-left: 967px;"></i></a>
        </span>*@
</span>
<div class="row" style="height: 50px;background-color: #292b48;bottom: 0;overflow: hidden;position: fixed;width: 100%;margin-left: 0;">
    <div class="col-md-4 text-right">

    </div>
    <div class="col-md-4 text-center">
        <span>
            <i class="fa fa-check-square" aria-hidden="true" title="Go To CheckList" onclick="GuestCheckList(this,w4form)" style="font-size: 20px;margin-top: 15px;color: #6cc387f2;padding-right:30px;cursor:pointer;"></i>
        </span>

        <span>
            <a><i class="fa fa-question-circle" aria-hidden="true" title="Help" style="font-size: 20px;color: #f73c3c;margin-top: 6px;padding-right:30px;cursor:pointer;" onclick="SendFormIssueNotification('W4', '@Model.ApplicantId');"></i></a>
        </span>

        <span>
            <a><i class="fa fa-floppy-o" aria-hidden="true" title="Save" onclick="SaveBeforeNext(this,w4form)" style="font-size: 20px;color: #6cc387f2;margin-top: 6px;padding-right:30px;cursor:pointer;"></i></a>
        </span>

    </div>
    <div class="col-md-4 text-right">
        <span style="cursor:pointer;" id="SaveAndNextw4form" @*onclick="SaveFormAndNext('w4form')"*@ onclick="SubmitForm(this, w4form)" title="Go to next I-9">
            <a><i class="fa fa-long-arrow-right" title="Next" style="font-size: 45px;color: #6cc387f2;margin-top: 2px;"></i></a>
        </span>
    </div>
</div>
}
<div class="modal fade preview" id="myModalForSignatureW4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="width:40%">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Add Signature</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">X</span></button>
            </div>
            <div class="modal-body" style="margin-left:0px;">
                <div id="divDetailPreview" class="">
                    <div>
                        <div class="" id="DivSignatureApplicant">
                            <div class="form-group">
                                <div class="col-lg-7 col-md-8 col-sm-8 col-xs-12">
                                    <div class="tools">
                                        <a href="#colors_sketch" data-tool="marker">Marker</a> <a href="#colors_sketch" data-tool="eraser">Eraser</a>
                                    </div>
                                    <br />
                                    <div id="addCanvas">
                                        <canvas id="colors_sketchW4" width="450" height="200"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="background: white;">
                <input type="button" class="btn btn-primary" id="btnSaveSign" data-dismiss="modal" style="border-radius: 100px; width: 25%; background-image: linear-gradient(to left, #3cffdb, #425fe0);" value="Save as Image" />
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/toastr.min.js"></script>
<script src="~/Scripts/Guest/SketchSignature.js"></script>
<script src="~/Scripts/Guest/ApplicantFormSave.js"></script>
<script>
    $(function ()
    {
        var formw4 = $("#FormStatusw4").val();
        if (formw4 == "true") {
            debugger
            var w4Sign = $("#EmployeeW4Signature").val();
            //var neww4Sign = w4Sign.replace("-", "/");
            $("#OpenW4Signtrue").attr("src", w4Sign);
        }
        else {
            $('#colors_sketchW4').sketch();
            $(".tools a").eq(0).attr("style", "color:#000");
            $(".tools a").click(function () {
                $(".tools a").removeAttr("style");
                $(this).attr("style", "color:#000");
            });
            $("#btnSaveSign").bind("click", function () {
                debugger
                //onclick
                var base64 = $('#colors_sketchW4')[0].toDataURL();
                $("#OpenW4Sign").attr("src", base64);
                $("#OpenW4Sign").show();
                $(".hideTextBoxAndButton").hide();
                $("#EmployeeW4Signature").val(base64);
            });
        }
       
       
    });
</script>

