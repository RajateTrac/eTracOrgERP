@model WorkOrderEMS.Models.Employee.PhotoRelease

@{
    long ApplicantId = Convert.ToInt64(Session["ApplicantId"]);
}
<style>

    .p1 {
        font-size: 20px;
        font-family: Times New Roman;
        margin: 73px 90px 0px 90px;
        text-align: justify;
        color: #000;
    }

    .p2 {
        font-size: 20px;
        font-family: Times New Roman;
        padding-left: 10%;
        padding-right: 10%;
        text-align: justify;
        color: #000;
    }

    h3 {
        margin: 100px 0px 0px 83px;
    }

    .text-line {
        background-color: transparent;
        outline: none;
        outline-style: none;
        border-top: none;
        border-left: none;
        border-right: none;
        border-bottom: solid #000 1px;
    }

    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    .row {
        display: flex;
    }

    p {
        margin-left: 107px;
    }

    input[type="checkbox"]:after {
        line-height: 1.5em !important;
        content: '' !important;
        display: block !important;
        margin-top: -3px !important;
        margin-left: -3px !important;
        border: 1px solid transparent !important;
        border-radius: 0px !important;
        line-height: 1.3 !important;
        background: none !important;
    }

    .ifname {
        width: 290px;
        margin-left: 105px;
    }

    .ilname {
        width: 214px;
        margin-left: 130px;
    }

    .slname {
        margin-left: 380px;
        ;
    }

    .PR-imgMAR {
        margin-left: -10%;
        margin-top: 9%;
        margin-bottom: -12%;
    }

    #PR-imgWID {
        width: 25%;
    }

    .PR-BGhead {
        border: 1px solid black;
        background-color: #a9a9a938;
    }

    .Isign {
        width: 290px;
        margin-left: 105px;
    }

    .mlname {
        margin-left: 134px;
    }

    @@media only screen and (max-width:768px) {
        .PR-ifname {
            width: 175px;
        }

        .PR-ilname {
            width: 162px;
        }

        .PR-slname {
            margin-left: 291px;
        }

        .PR-mlname {
            margin-left: 340px;
        }

        .PR-Isign {
            width: 175px;
        }
    }
</style>
<link href="~/Content/toastr.min.css" rel="stylesheet" />
<div class="container p2">
    <div class="PR-imgMAR">
        <img id="PR-imgWID" src="~/Images/FormImages/image-form.jpg" alt="Elite Parking" />
    </div>
    <div class="text-center">
        <h3 style="margin-left:35%;"><u>Photo/Video Release Form</u></h3>
    </div>
    @using (Html.BeginForm("_photoreleaseform", "Guest", FormMethod.Post, new { id = "photoreleaseform" }))
    {
        <input type="hidden" value="@Model.FormStatusw4" name="FormStatusw4" id="FormStatusw4">
        <input type="hidden" value="@Model.FormStatusI9" name="FormStatusI9" id="FormStatusI9">
        <input type="hidden" value="@Model.FormStatusdd" name="FormStatusdd" id="FormStatusdd">
        <input type="hidden" value="@Model.FormStatusEvf" name="FormStatusEvf" id="FormStatusEvf">
        <input type="hidden" value="@Model.FormStatussif" name="FormStatussif" id="FormStatussif">
        <input type="hidden" value="@Model.FormStatusbcf" name="FormStatusbcf" id="FormStatusbcf">
        <input type="hidden" value="@Model.FormStatusrop" name="FormStatusrop" id="FormStatusrop">
        <input type="hidden" value="@Model.FormStatusprfecf" name="FormStatusprfecf" id="FormStatusprfecf">
        <input type="hidden" value="@Model.FormStatusprfcaf" name="FormStatusprfcaf" id="FormStatusprfcaf">
        <input type="hidden" value="@Model.FormStatusprf" name="FormStatusprf" id="FormStatusprf">
        <input type="hidden" value="@Model.FormStatusff" name="FormStatusff" id="FormStatusff">
        <div class="row">
            @Html.HiddenFor(x => x.PRFId)
            <p>
                I,  @Html.TextBoxFor(x => x.Name, new { @class = "text-line" }) give Elite Parking Services of America, Inc. (Elite) the right to take photographic and/or video images of myself as I perform the duties assigned to
                me as an employee of Elite.
                <br />
                I understand these photographs/videos will be used for training and marketing purposes and do not object to the company's use.
            </p>
        </div>
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6">
                @Html.TextBoxFor(x => x.FirstName, new { @class = "text-line ifname PR-ifname", @style = "padding-top:2%;" })
                @*<input type="text" class="text-line ifname PR-ifname" style="padding-top:2%;" />*@
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
                @Html.TextBoxFor(x => x.FirstName, new { @class = "text-line ilname PR-ilname", @style = "padding-top:2%;" })
                @*<input type="text" class="text-line ilname PR-ilname" style="margin-top:2%;" />*@(PRINT)
            </div>
        </div>
        <div class="row" style="margin-bottom:1%;">
            <div class="col-lg-6 col-md-6 col-sm-6">
                <span style="margin-left:104px;">First Name</span>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
                <span class="mlname PR-mlname">Last Name</span>
            </div>
        </div>
        <div class="row">
            <div class="row">
                @Html.HiddenFor(model => model.Signature, new { @id = "EmployeePhotoReleaseSignature" })
                @if (Model.FormStatusprf == "true")
                {
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <img id="OpenPhotoReleaseSign" style="width:163px;height:47px;margin-left:140%;margin-top:15%;" />
                        
                    </div>
                }
                else
                {
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <img id="OpenPhotoReleaseSign" style="display:none;width:163px;height:47px;margin-left:140%;margin-top:15%;" />
                        <span id="hideTextBoxAndButton">
                            <input class = "text-line Isign PR-Isign hideTextBoxAndButton" style = "width: 290px;margin-left: 119px;"  />
                            @*@Html.TextBoxFor(x => x.Signature, new { @class = "text-line Isign PR-Isign hideTextBoxAndButton", @style = "width: 290px;margin-left: 119px;" })*@<br />
                        </span>
                        <span class="btn btn-success hideTextBoxAndButton" style="border-radius: 100px; margin-left:56%; width: 60%;background-image: linear-gradient(to left, #3cffdb, #425fe0);" id="AddSignaturePhotoRelease" onclick="OpenSignature('PhotoRelease','EmployeePhotoReleaseSignature','OpenPhotoReleaseSign','hideTextBoxAndButton','myModalForSignaturePhotoRelease','colors_sketchPhotoRelease')">
                            Add Signature
                        </span>
                    </div>
                }
               

                <div class="col-lg-6 col-md-6 col-sm-6">

                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">

            </div>
        </div>
        <br><br><br><br>
        @*<span style="margin-left: 96px;margin-bottom:10%;">
            @Html.CheckBox("IsSave", new { @style = "height: 18px;width: 31px;" })
                i hereby declare that the above information is true to the best of my knowledge
                <span style="cursor:pointer;" onclick="SubmitForm(this, photoreleaseform)" title="Go to next I-9">
                <a><i class="fa fa-long-arrow-right" style="font-size: 40px;color: steelblue;margin-left: 455px;"></i></a>
                </span>
                </span>*@
    }


</div>
<div class="row" style="height: 50px;background-color: #292b48;bottom: 0;overflow: hidden;position: fixed;width: 100%;margin-left: 0px;">
    <div class="col-md-4 text-right">

    </div>
    <div class="col-md-4 text-center">
        <span>
            <i class="fa fa-check-square" aria-hidden="true" onclick="GuestCheckList(this,photoreleaseform)" title="Go To CheckList" style="font-size: 20px;margin-top: 15px;color: #6cc387f2;padding-right:30px;"></i>
        </span>

        <span>
            <a><i class="fa fa-question-circle" aria-hidden="true" title="Help" style="font-size: 20px;color: #f73c3c;margin-top: 6px;padding-right:30px;" onclick="SendFormIssueNotification('Photo Release', '@ApplicantId');"></i></a>
        </span>

        <span>
            <a><i class="fa fa-floppy-o" aria-hidden="true" onclick="SaveBeforeNext(this,photoreleaseform)" title="Save" style="font-size: 20px;color: #6cc387f2;margin-top: 6px;padding-right:30px;"></i></a>
        </span>

    </div>
    <div class="col-md-4 text-right">
        <span style="cursor:pointer;" onclick="SubmitForm(this, photoreleaseform)" title="Go to next I-9">
            <a><i class="fa fa-long-arrow-right" title="Next" style="font-size: 45px;color: #6cc387f2;margin-top: 2px;"></i></a>
        </span>
    </div>
</div>
<div class="modal fade preview" id="myModalForSignaturePhotoRelease" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" style="width:40%">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Add Signature</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">X</span></button>
            </div>
            <div class="modal-body" style="margin-left:0px;">
                <div id="divDetailPreview" class="">
                    <div>
                        <div class="" id="DivSignaturePhotoRelease">
                            <div class="form-group">
                                <div class="col-lg-7 col-md-8 col-sm-8 col-xs-12">
                                    <div class="tools">
                                        <a href="#colors_sketch" data-tool="marker">Marker</a> <a href="#colors_sketch" data-tool="eraser">Eraser</a>
                                    </div>
                                    <br />
                                    <canvas id="colors_sketchPhotoRelease" width="450" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="background: white;">
                <input type="button" class="btn btn-primary" id="btnSaveSign" style="border-radius: 100px; width: 25%; background-image: linear-gradient(to left, #3cffdb, #425fe0);" data-dismiss="modal" value="Save as Image" />
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/toastr.min.js"></script>
<script src="~/Scripts/Guest/ApplicantFormSave.js"></script>
<script src="~/Scripts/Guest/SketchSignature.js"></script>
<script>
    $(function () {

         var formprf = $("#FormStatusprf").val();
        if (formprf == "true") {
            debugger
            var prfSign = $("#EmployeePhotoReleaseSignature").val();
            //var neww4Sign = w4Sign.replace("-", "/");
            $("#OpenPhotoReleaseSign").attr("src", prfSign);
        }
        else {
            $('#colors_sketchPhotoRelease').sketch();
        $(".tools a").eq(0).attr("style", "color:#000");
        $(".tools a").click(function () {
            $(".tools a").removeAttr("style");
            $(this).attr("style", "color:#000");
        });
        $("#btnSaveSign").bind("click", function () {
            var base64 = $('#colors_sketchPhotoRelease')[0].toDataURL();
            $("#OpenPhotoReleaseSign").attr("src", base64);
            $("#OpenPhotoReleaseSign").show();
            $(".hideTextBoxAndButton").hide();
            $("#EmployeePhotoReleaseSignature").val(base64);
        });
        }
        
    });
</script>